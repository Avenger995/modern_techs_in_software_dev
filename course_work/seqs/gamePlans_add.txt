@startuml
'seq diag for gamePlans (add)


actor User as user
participant "UI" as ui
participant "API" as api
participant "SQL" as sql

user -> ui: Переход на страницу создания состава
activate ui
ui -> api: GET /api/formations
activate api 
api -> sql: Запрос на получение данных
activate sql
sql --> api: Успешное получение даннных
deactivate sql
api -> api: Перевод данных в DTO
api --> ui: Статус 200 и DTO
deactivate api
ui --> user: Наполнение выпдающего списка
user -> ui: Выбор схемы
ui -> ui: Генерация вида схемы
ui --> user: Интерактивное поле
user -> ui: Выбор позиции
ui -> api: GET /api/positions
activate api 
api -> sql: Запрос на получение данных
activate sql
sql --> api: Успешное получение даннных
deactivate sql
api -> api: Перевод данных в DTO
api --> ui: Статус 200 и DTO
deactivate api
ui --> user: Список с игроками
user -> ui: Выбор нужного игрока
ui -> ui: Обновление данных о составе
ui --> user: Обновлённый состав
user -> ui: Ввод названия состава
user -> ui: Сохранение состава
ui -> api: POST /api/game-plan
activate api 
api -> api: Перевод в модель
api -> sql: Запрос на отправку
activate sql
sql --> api: Успешная отправка данных
deactivate sql
api --> ui: Статус 200
deactivate api
ui --> user: Перевод на просмотр нового состава
ui --> user: Всплывашка об успешном добавлении
deactivate ui
@enduml